{"ast":null,"code":"import _regeneratorRuntime from\"/home/beehyv/Desktop/hashshark/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/beehyv/Desktop/hashshark/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/beehyv/Desktop/hashshark/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/beehyv/Desktop/hashshark/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/beehyv/Desktop/hashshark/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import FormInput from\"../../components/formInput/FormInput\";import{Link,useNavigate}from\"react-router-dom\";import\"./register.scss\";import{FacebookRounded}from\"@mui/icons-material\";import{auth,provider}from\"../../firebase\";import{updateProfile,createUserWithEmailAndPassword,signInWithPopup}from\"firebase/auth\";import{AuthContext}from\"../../context/AuthContext\";import googleImg from\"../../assets/google.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useContext=useContext(AuthContext),dispatch=_useContext.dispatch;var _useState=useState({username:\"\",email:\"\",password:\"\",confirmPassword:\"\"}),_useState2=_slicedToArray(_useState,2),inputValues=_useState2[0],setInputValues=_useState2[1];var navigate=useNavigate();var inputs=[{id:1,name:\"username\",type:\"text\",placeholder:\"Username\",errorMessage:\"Username should be 3-16 characters and shouldn't include any special character\",pattern:\"^[A-Za-z0-9]{3,16}$\",required:true},{id:2,name:\"email\",type:\"email\",placeholder:\"Email\",errorMessage:\"It should be a valid email address\",required:true},{id:3,name:\"password\",type:\"text\",placeholder:\"Password\",errorMessage:\"Password should be 8-20 characters and include at least 1 letter, 1 number, 1 special character\",pattern:\"(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+])[A-Za-z0-9!@#$%^&*()_+]{8,20}$\",required:true},{id:4,name:\"confirmPassword\",type:\"text\",placeholder:\"Confirm Password\",errorMessage:\"Passwords don't match\",pattern:inputValues.password,required:true}];var handleChange=function handleChange(e){setInputValues(_objectSpread(_objectSpread({},inputValues),{},_defineProperty({},e.target.name,e.target.value)));};var handleRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return createUserWithEmailAndPassword(auth,inputValues.email,inputValues.password).then(function(userCredential){// Signed in\nvar user=userCredential.user;updateProfile(user,{displayName:inputValues.username});navigate(\"/login\");});case 4:_context.next=8;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);case 8:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return function handleRegister(_x){return _ref.apply(this,arguments);};}();var signInWithGoogle=function signInWithGoogle(){dispatch({type:\"LOGIN_START\"});signInWithPopup(auth,provider).then(function(result){console.log(result);// The signed-in user info.\nvar user=result.user;dispatch({type:\"LOGIN_SUCCESS\",payload:user});navigate(\"/\");}).catch(function(error){dispatch({type:\"LOGIN_FAILURE\"});});};// console.log(inputValues);\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"register\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),inputs.map(function(input){return/*#__PURE__*/_jsx(FormInput,_objectSpread(_objectSpread({},input),{},{value:inputValues[input.name],onChange:handleChange}),input.id);}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleRegister,children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"formLink\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Already have an account? \"}),/*#__PURE__*/_jsxs(Link,{to:\"/login\",className:\"formSignup\",style:{textDecoration:\"none\"},children:[\" \",\"SignIn\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"media-options\",children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"facebook\",style:{textDecoration:\"none\"},children:[/*#__PURE__*/_jsx(FacebookRounded,{className:\"facebookIcon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Login with Facebook\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"media-options\",children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"facebook google\",style:{textDecoration:\"none\"},onClick:signInWithGoogle,children:[/*#__PURE__*/_jsx(\"img\",{src:googleImg,alt:\"\",className:\"googleImg\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Login with Google\"})]})})]})});};export default Register;","map":{"version":3,"names":["React","useContext","useState","FormInput","Link","useNavigate","FacebookRounded","auth","provider","updateProfile","createUserWithEmailAndPassword","signInWithPopup","AuthContext","googleImg","Register","dispatch","username","email","password","confirmPassword","inputValues","setInputValues","navigate","inputs","id","name","type","placeholder","errorMessage","pattern","required","handleChange","e","target","value","handleRegister","preventDefault","then","userCredential","user","displayName","signInWithGoogle","result","console","log","payload","catch","error","map","input","textDecoration"],"sources":["/home/beehyv/Desktop/hashshark/src/pages/register/Register.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport FormInput from \"../../components/formInput/FormInput\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./register.scss\";\nimport { FacebookRounded } from \"@mui/icons-material\";\nimport { auth, provider } from \"../../firebase\";\nimport {\n  updateProfile,\n  createUserWithEmailAndPassword,\n  signInWithPopup,\n} from \"firebase/auth\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport googleImg from \"../../assets/google.png\"\n\nconst Register = () => {\n  const { dispatch } = useContext(AuthContext);\n  const [inputValues, setInputValues] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n  const navigate = useNavigate();\n  const inputs = [\n    {\n      id: 1,\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"Username\",\n      errorMessage:\n        \"Username should be 3-16 characters and shouldn't include any special character\",\n      pattern: \"^[A-Za-z0-9]{3,16}$\",\n      required: true,\n    },\n    {\n      id: 2,\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      errorMessage: \"It should be a valid email address\",\n      required: true,\n    },\n    {\n      id: 3,\n      name: \"password\",\n      type: \"text\",\n      placeholder: \"Password\",\n      errorMessage:\n        \"Password should be 8-20 characters and include at least 1 letter, 1 number, 1 special character\",\n      pattern: `(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+])[A-Za-z0-9!@#$%^&*()_+]{8,20}$`,\n      required: true,\n    },\n    {\n      id: 4,\n      name: \"confirmPassword\",\n      type: \"text\",\n      placeholder: \"Confirm Password\",\n      errorMessage: \"Passwords don't match\",\n      pattern: inputValues.password,\n      required: true,\n    },\n  ];\n\n  const handleChange = (e) => {\n    setInputValues({ ...inputValues, [e.target.name]: e.target.value });\n  };\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n\n    try {\n      await createUserWithEmailAndPassword(\n        auth,\n        inputValues.email,\n        inputValues.password\n      ).then((userCredential) => {\n        // Signed in\n        const user = userCredential.user;\n        updateProfile(user, {\n          displayName: inputValues.username,\n        });\n        navigate(\"/login\");\n      });\n    } catch (error) {}\n  };\n\n  const signInWithGoogle = () => {\n    dispatch({ type: \"LOGIN_START\" });\n\n    signInWithPopup(auth, provider)\n      .then((result) => {\n        console.log(result);\n        // The signed-in user info.\n        const user = result.user;\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: user });\n        navigate(\"/\");\n      })\n      .catch((error) => {\n        dispatch({ type: \"LOGIN_FAILURE\" });\n      });\n  };\n  // console.log(inputValues);\n  return (\n    <div className=\"register\">\n      <form>\n        <h2>Register</h2>\n        {inputs.map((input) => (\n          <FormInput\n            key={input.id}\n            {...input}\n            value={inputValues[input.name]}\n            onChange={handleChange}\n          />\n        ))}\n        <button type=\"submit\" onClick={handleRegister}>\n          Register\n        </button>\n\n        <div className=\"formLink\">\n          <span>Already have an account? </span>\n          <Link\n            to=\"/login\"\n            className=\"formSignup\"\n            style={{ textDecoration: \"none\" }}\n          >\n            {\" \"}\n            SignIn\n          </Link>\n        </div>\n\n        <div className=\"line\"></div>\n        <div className=\"media-options\">\n          <Link to=\"#\" className=\"facebook\" style={{ textDecoration: \"none\" }}>\n            <FacebookRounded className=\"facebookIcon\" />\n            <span>Login with Facebook</span>\n          </Link>\n        </div>\n        <div className=\"media-options\">\n          <Link\n            to=\"#\"\n            className=\"facebook google\"\n            style={{ textDecoration: \"none\" }}\n            onClick={signInWithGoogle}\n          >\n            <img src={googleImg} alt=\"\" className=\"googleImg\" />\n            <span>Login with Google</span>\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}