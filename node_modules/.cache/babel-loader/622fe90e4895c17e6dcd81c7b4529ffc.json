{"ast":null,"code":"import _defineProperty from\"/home/beehyv/Desktop/hashshark/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/beehyv/Desktop/hashshark/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/beehyv/Desktop/hashshark/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import\"./login.scss\";import{Link,useNavigate}from\"react-router-dom\";import{FacebookRounded,Visibility,VisibilityOff}from\"@mui/icons-material\";import{auth,provider}from\"../../firebase\";import{signInWithEmailAndPassword,signInWithPopup}from\"firebase/auth\";import{AuthContext}from\"./../../context/AuthContext\";import googleImg from\"../../assets/google.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toggleEye=_useState4[0],setToggleEye=_useState4[1];var _useState5=useState(\"password\"),_useState6=_slicedToArray(_useState5,2),inputType=_useState6[0],setInputType=_useState6[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),dispatch=_useContext.dispatch;var handleToggle=function handleToggle(e){setToggleEye(!toggleEye);setInputType(inputType===\"password\"?\"text\":\"password\");};var handleChange=function handleChange(e){setInputs(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.name,e.target.value));});};var handleLogin=function handleLogin(e){e.preventDefault();dispatch({type:\"LOGIN_START\"});try{signInWithEmailAndPassword(auth,inputs.email,inputs.password).then(function(userCredential){// Signed in\nvar user=userCredential.user;dispatch({type:\"LOGIN_SUCCESS\",payload:user});// console.log(user);\nnavigate(\"/\");});}catch(error){dispatch({type:\"LOGIN_FAILURE\"});}};var signInWithGoogle=function signInWithGoogle(){dispatch({type:\"LOGIN_START\"});signInWithPopup(auth,provider).then(function(result){console.log(result);// The signed-in user info.\nvar user=result.user;dispatch({type:\"LOGIN_SUCCESS\",payload:user});navigate(\"/\");}).catch(function(error){dispatch({type:\"LOGIN_FAILURE\"});});};// console.log(inputs);\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formInput\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",placeholder:\"Email\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"formInput\",children:[/*#__PURE__*/_jsx(\"input\",{type:inputType,name:\"password\",id:\"password\",placeholder:\"Password\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"eyeIcon\",onClick:handleToggle,children:toggleEye?/*#__PURE__*/_jsx(Visibility,{}):/*#__PURE__*/_jsx(VisibilityOff,{})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"formLink\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Don't have an account? \"}),/*#__PURE__*/_jsxs(Link,{to:\"/register\",className:\"formSignup\",style:{textDecoration:\"none\"},children:[\" \",\"SignUp\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"media-options\",children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"facebook\",style:{textDecoration:\"none\"},children:[/*#__PURE__*/_jsx(FacebookRounded,{className:\"facebookIcon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Login with Facebook\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"media-options\",children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"facebook google\",style:{textDecoration:\"none\"},onClick:signInWithGoogle,children:[/*#__PURE__*/_jsx(\"img\",{src:googleImg,alt:\"\",className:\"googleImg\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Login with Google\"})]})})]})});};export default Login;","map":{"version":3,"names":["React","useContext","useState","Link","useNavigate","FacebookRounded","Visibility","VisibilityOff","auth","provider","signInWithEmailAndPassword","signInWithPopup","AuthContext","googleImg","Login","email","password","inputs","setInputs","toggleEye","setToggleEye","inputType","setInputType","navigate","dispatch","handleToggle","e","handleChange","prev","target","name","value","handleLogin","preventDefault","type","then","userCredential","user","payload","error","signInWithGoogle","result","console","log","catch","textDecoration"],"sources":["/home/beehyv/Desktop/hashshark/src/pages/login/Login.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport \"./login.scss\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport {\n  FacebookRounded,\n  Visibility,\n  VisibilityOff,\n} from \"@mui/icons-material\";\nimport { auth, provider } from \"../../firebase\";\nimport { signInWithEmailAndPassword, signInWithPopup } from \"firebase/auth\";\nimport { AuthContext } from \"./../../context/AuthContext\";\nimport googleImg from \"../../assets/google.png\"\n\nconst Login = () => {\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [toggleEye, setToggleEye] = useState(false);\n  const [inputType, setInputType] = useState(\"password\");\n  const navigate = useNavigate();\n\n  const { dispatch } = useContext(AuthContext);\n\n  const handleToggle = (e) => {\n    setToggleEye(!toggleEye);\n    setInputType(inputType === \"password\" ? \"text\" : \"password\");\n  };\n  const handleChange = (e) => {\n    setInputs((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    try {\n      signInWithEmailAndPassword(auth, inputs.email, inputs.password).then(\n        (userCredential) => {\n          // Signed in\n          const user = userCredential.user;\n          dispatch({ type: \"LOGIN_SUCCESS\", payload: user });\n          // console.log(user);\n          navigate(\"/\");\n        }\n      );\n    } catch (error) {\n      dispatch({ type: \"LOGIN_FAILURE\" });\n    }\n  };\n\n  const signInWithGoogle = () => {\n    dispatch({ type: \"LOGIN_START\" });\n\n    signInWithPopup(auth, provider)\n      .then((result) => {\n        console.log(result);\n        // The signed-in user info.\n        const user = result.user;\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: user });\n        navigate(\"/\");\n      })\n      .catch((error) => {\n        dispatch({ type: \"LOGIN_FAILURE\" });\n      });\n  };\n  // console.log(inputs);\n  return (\n    <div className=\"login\">\n      <form>\n        <h2>Login</h2>\n        <div className=\"formInput\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Email\"\n            onChange={handleChange}\n            required\n          />\n        </div>\n        <div className=\"formInput\">\n          <input\n            type={inputType}\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            onChange={handleChange}\n            required\n          />\n          <div className=\"eyeIcon\" onClick={handleToggle}>\n            {toggleEye ? <Visibility /> : <VisibilityOff />}\n          </div>\n        </div>\n        <button type=\"submit\" onClick={handleLogin}>\n          Login\n        </button>\n\n        <div className=\"formLink\">\n          <span>Don't have an account? </span>\n          <Link\n            to=\"/register\"\n            className=\"formSignup\"\n            style={{ textDecoration: \"none\" }}\n          >\n            {\" \"}\n            SignUp\n          </Link>\n        </div>\n\n        <div className=\"line\"></div>\n        <div className=\"media-options\">\n          <Link to=\"#\" className=\"facebook\" style={{ textDecoration: \"none\" }}>\n            <FacebookRounded className=\"facebookIcon\" />\n            <span>Login with Facebook</span>\n          </Link>\n        </div>\n        <div className=\"media-options\">\n          <Link\n            to=\"#\"\n            className=\"facebook google\"\n            style={{ textDecoration: \"none\" }}\n            onClick={signInWithGoogle}\n          >\n            <img src={googleImg} alt=\"\" className=\"googleImg\" />\n            <span>Login with Google</span>\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}